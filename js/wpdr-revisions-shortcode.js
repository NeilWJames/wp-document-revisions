(o=>{let{registerBlockType:e,createBlock:a}=wp.blocks,i=wp.element.createElement,s=wp.blockEditor.InspectorControls,{PanelBody:r,RangeControl:l,TextControl:p,ToggleControl:u}=wp.components,d=wp.i18n.__;e("wp-document-revisions/revisions-shortcode",{title:d("Document Revisions","wp-document-revisions"),description:d("Display a list of revisions for your document.","wp-document-revisions"),category:"wpdr-category",icon:"list-view",attributes:{id:{type:"number",default:1},numberposts:{type:"number",default:5},summary:{type:"boolean",default:!1},show_pdf:{type:"boolean",default:!1},new_tab:{type:"boolean",default:!0},align:{type:"string"},backgroundColor:{type:"string"},linkColor:{type:"string"},textColor:{type:"string"},gradient:{type:"string"},fontSize:{type:"string"},style:{type:"object"}},supports:{align:!0,color:{gradients:!0,link:!0},spacing:{margin:!0,padding:!0},typography:{fontSize:!0,lineHeight:!0}},edit(e){var t=e.attributes;let n=e.setAttributes;return i("div",{},[i(o,{block:"wp-document-revisions/revisions-shortcode",attributes:t}),i(s,{},[i(r,{title:d("Selection Criteria","wp-document-revisions"),initialOpen:!0},[i(p,{type:"number",value:t.id,label:d("Document Id","wp-document-revisions"),onChange:function(e){n({id:parseInt(e)})}}),i(l,{value:t.numberposts,label:d("Revisions to Display","wp-document-revisions"),onChange:function(e){n({numberposts:parseInt(e)})},min:1,max:20}),i(u,{type:"boolean",checked:t.summary,label:d("Show Revision Summaries?","wp-document-revisions"),onChange:function(e){n({summary:e})}}),i(u,{type:"boolean",checked:t.show_pdf,label:d("Show PDF File indication?","wp-document-revisions"),onChange:function(e){n({show_pdf:e})}}),i(u,{type:"boolean",checked:t.new_tab,label:d("Open in New Tab?","wp-document-revisions"),help:d("Setting this on will open the document in a new tab. This should be set on whilst editing the page using this block as clicking on a link whilst editing will force the current page to be left.","wp-document-revisions"),onChange:function(e){n({new_tab:e})}})])])])},save(){return null},transforms:{from:[{type:"block",blocks:["core/shortcode"],isMatch:function({text:e}){return/^\[?document_revisions\b\s*/.test(e)},transform:({text:e})=>{var t,n,e=e.toLowerCase(),e=(e=0==e.indexOf("[")?e.slice(1,e.length-1):e).split(" "),o=(e.shift(),1),i=5,s=!1,r=!1,l=!0;for(t of e)0===t.length||(1<(n=t.split("=")).length&&(0===n[1].indexOf("'")||0===n[1].indexOf('"'))&&(n[1]=n[1].slice(1,n[1].length-1)),"id"===n[0]&&(o=Number(n[1])),"number"===n[0]&&(i=Number(n[1])),"numberposts"===n[0]&&(i=Number(n[1])),"summary"!==n[0]||1!==n.length&&"true"!==n[1]||(s=!0),"show_pdf"===n[0]&&(1!==n.length&&"true"!==n[1]||(r=!0),used=!0),"new_tab"!==n[0])||1!==n.length&&"false"!==n[1]||(l=!1);return a("wp-document-revisions/revisions-shortcode",{id:o,numberposts:i,summary:s,show_pdf:r,new_tab:l})}}],to:[{type:"block",blocks:["core/shortcode"],transform:e=>{var t="[document_revisions ";return""!=e.id&&(t+="id="+e.id),""!=e.numberposts&&(t+=" numberposts="+e.numberposts),t+=e.summary?" summary=true":" summary=false",e.show_pdf&&(t+=" show_pdf"),t+=e.new_tab?" new_tab=true ]":" new_tab=false ]",a("core/shortcode",{text:t})}}]}})})((window.wp.blocks,window.wp.element,window.wp.blockEditor,window.wp.components,window.wp.compose,window.wp.serverSideRender),window.wp.i18n);